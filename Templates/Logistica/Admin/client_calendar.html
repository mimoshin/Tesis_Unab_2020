{% extends 'base_client.html' %}
{% load static %}

{% block top-message %}
  <h3>Calendario</h3>
{% endblock %}

{% block head %}
{% endblock %}

{% block page-heading-content %}
  <div class="calendar num">
      {{calendar|safe}}
  </div>


<!-- modal days -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Lista de eventos </h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" style="overflow-y: scroll;max-height: 400px;">
        <table class="table_hours">
          <thead>
            <tr>
              <th style="width: 130px;">Horario</th>
              <th style="width: 80px;">Multicancha</th>
              <th style="width: 80px;">Pista Atlética</th>
              <th style="width: 80px;">Psicina</th>
              <th style="width: 80px;">Cancha Sintetica</th>
              <th style="width: 80px;">Gimnasio completo</th>
              <th style="width: 80px;">Lugar externo</th>
            </tr>
          </thead>
          <tbody class="body_hours">
              <tr>
                <td class="table-info" style="text-align: center;"> Horas</td>

                <!--Multicancha-->
                <td class="table-warning"> </td>

                <!--Piscina-->
                <td class="table-warning"> </td>

                <!--Cancha síntetica-->
                <td class="table-warning"> </td>

                <!--Pista Atlética-->
                <td class="table-warning"> </td>

                <!--Gimnasio completo-->
                <td class="table-warning"> </td>
              
                <!--Lugar externo-->
                <td class="table-warning"> </td>
              </tr>
            <!--End Day hour-->
          </tbody>
        </table>
      </div>
      <!--
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
      -->
    </div>
  </div>
</div>


  <script>    
    $('.day').on('click',function(e){
      list_days = {{disponibility | safe}};
      data_day = list_days[this.id-1];
      if(data_day != 'none')
      {
        text = ''
        for(x= 0;x<16;x++){
          text = text+'<tr><td class="table-info" style="text-align: center;">'+data_day[x][0]+'</td>';
          for(y=1;y<7;y++){
            if(data_day[x][y] == 'none'){
              text = text+'<td class="table-warning"> </td>';
            }
            else{
              text = text+'<td class="table-warning"><button class="btn" >'+ data_day[x][y]+'</button></td>';
            }
          }
        }
        text = text+'</tr>';
        $('.body_hours').html(text);
      }
      $('#exampleModal').modal('show');
    });
  </script>
{% endblock %}

{% block active-logistics %}
  <i class="fas fa-fw fa-circle "></i>
{% endblock %}
